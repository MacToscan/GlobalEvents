@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

.card {
  background-color: #1a1a1a;
  border: 1px solid #333;
  border-radius: 12px;
  overflow: hidden;
  position: sticky; 
  top: 100px;       
  margin-bottom: 40px; 
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  transition: transform 0.3s ease;

  // --- 1. MÓVIL (Vertical) ---
  display: flex;
  flex-direction: column;
  // En móvil dejamos que la altura sea automática según el texto
  // para no romper nada si escribe mucho.
  min-height: 450px; 

  // --- 2. DESKTOP Y PANTALLAS GRANDES (Horizontal) ---
  @include mq($bp-desktop) {
    display: grid;
    grid-template-columns: 65% 35%; // 65% Foto, 35% Texto (Proporción áurea visual)
    
    // ¡AQUÍ ESTÁ LA CLAVE DE LA UNIFORMIDAD!
    // Fijamos una altura exacta. Todas las cartas medirán lo mismo.
    height: 500px; 
    
    // Quitamos el margin-bottom grande porque el sticky se encarga
    margin-bottom: 60px; 
  }

  // --- IMAGEN ---
  &__img-wrapper {
    position: relative;
    width: 100%;
    
    // Altura fija en móvil para uniformidad visual
    height: 300px; 

    // En Desktop, la foto ocupa el 100% de la altura de la tarjeta (500px)
    @include mq($bp-desktop) {
      height: 100%; 
      border-right: 1px solid #333; 
    }
  }

  &__image {
    width: 100%;
    height: 100%;
    // 'cover' es el truco mágico: rellena el hueco recortando lo que sobre
    // sin deformar la foto jamás.
    object-fit: cover; 
    object-position: center top; // Enfoca preferiblemente la parte superior (caras)
    display: block;
    transition: transform 0.5s ease;
  }

  &:hover .card__image {
    transform: scale(1.05);
  }

  // --- TEXTO / CONTENIDO ---
  &__content {
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center; // Centra el texto verticalmente
    align-items: flex-start;
    background: linear-gradient(to bottom, #1a1a1a, #111);
    
    // Si el texto es muy largo, lo cortamos con puntos suspensivos para no romper la caja
    overflow: hidden; 

    @include mq($bp-desktop) {
      padding: 40px; 
    }
  }

  &__category {
    color: #BF953F;
    text-transform: uppercase;
    font-size: 0.8rem;
    letter-spacing: 2px;
    margin-bottom: 10px;
    font-weight: 700;
  }

  &__title {
    font-family: $font-heading;
    color: white;
    font-size: 1.8rem;
    margin: 0 0 15px;
    line-height: 1.1;

    // Limitamos el título a 2 líneas máximo para seguridad
    display: -webkit-box;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;

    @include mq($bp-desktop) {
      font-size: 2.5rem; 
    }
  }

  &__zone {
    color: #888;
    font-size: 0.9rem;
    margin-bottom: 25px;
    display: flex;
    align-items: center;
    gap: 5px;
  }
}