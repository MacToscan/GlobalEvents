@use '../abstracts/variables' as *; 
@use '../abstracts/mixins' as *;

.hero {
  // Parallax / Stacking Effect
  height: 100vh;
  position: sticky;
  top: 0;
  z-index: 1;
  
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  
  background-image: url('/hero-bg-dark.jpg'); 
  background-size: cover;
  background-position: center;
  
  // Overlay oscuro
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.7); 
    z-index: -1;
  }

  &__content {
    width: 90%;
    max-width: $container-max-width;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  // Logo Redondo en el Hero
  &__brand-img {
    width: 250px;
    height: auto;
    margin-top: $spacing-xl * 4;
    

    @include mq($bp-tablet) {
      width: 540px;
    }
  }

  &__title {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;

    @include mq($bp-desktop) {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
  }

  &__subtitle {
    font-family: 'Playfair Display', Times, serif;
    font-size: 1rem;
    color: $color-text-primary;
    margin-bottom: $spacing-unit * 3;
    max-width: 600px;
  }

  // Caja del botón "Solicitar Presupuesto"
  &__cta-box {
    margin-top: $spacing-xl *5;
    margin-bottom: $spacing-unit * 2;
    width: 100%; 
    // En escritorio podríamos querer que no sea full width, pero el btn base se adapta
  }
}

// --- BUSCADOR ---
.search-bar {
  background: rgba(20, 20, 20, 0.6); 
  backdrop-filter: blur(12px);
  padding: $spacing-unit *2;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  
  display: flex;
  flex-direction: column;
  gap: $spacing-unit * 2;
  width: 90%; 

  @include mq($bp-tablet) {
    flex-direction: row;
    align-items: flex-end;
  }

  &__group { 
    flex: 1; 
    text-align: left; 
  }
  
  label { 
    display: block; 
    font-size: 0.8rem; 
    color: $color-text-muted; 
    margin-bottom: 4px; 
  }
  
  input, select {
    width: 100%;
    background: transparent;
    border: none;
    border-bottom: 2px solid rgba(255, 255, 255, 0.2);
    color: white;
    padding: 8px 0;
    font-family: inherit;
    transition: border-color 0.3s;

    &:focus { 
      outline: none; 
      border-bottom-color: #BF953F; 
    }
    option { 
      background-color: $color-bg-dark; 
    }
  }

  // --- REFACTORIZACIÓN AQUÍ ---
  // Ya no definimos colores ni bordes. Solo comportamiento de layout.
  &__btn {
    width: 100%; // En móvil ocupa todo el ancho
    
    @include mq($bp-tablet) {
      width: auto; // En escritorio se ajusta al texto
    }
  }
}

// ESTILOS DE LA LISTA DE SUGERENCIAS
.suggestions-list {
  display: none; // Oculta por defecto
  position: absolute;
  top: 100%; // Justo debajo del input
  left: 0;
  width: 100%;
  background: #111; // Fondo oscuro sólido
  border: 1px solid rgba(255,255,255,0.1);
  border-top: none; // Para que parezca unido al input
  border-radius: 0 0 8px 8px;
  z-index: 100;
  max-height: 200px;
  overflow-y: auto; // Scroll si hay muchos
  box-shadow: 0 10px 20px rgba(0,0,0,0.5);
  list-style: none;
  padding: 0;
  margin: 0;

  li {
    padding: 12px 20px;
    color: #ccc;
    font-size: 0.95rem;
    cursor: pointer;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    transition: all 0.2s;
    text-align: left;

    &:last-child { border-bottom: none; }

    &:hover {
      background: #222;
      color: #BF953F; // Dorado al pasar el ratón
      padding-left: 25px; // Pequeño movimiento a la derecha
    }
    
    // Resaltar la coincidencia en negrita (opcional)
    strong { color: white; }
  }
}

// Pequeño ajuste para que el input no tenga bordes redondeados abajo si la lista está abierta
.search-bar__group input.open {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  border-bottom-color: transparent;
}